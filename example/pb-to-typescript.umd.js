!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("protobufjs")):"function"==typeof define&&define.amd?define(["exports","protobufjs"],n):n(e.pbToTypescript={},e.protobuf)}(this,function(e,n){var r="default"in n?n.default:n,t={double:"number",float:"number",int32:"number",int64:"number",uint32:"number",uint64:"number",sint32:"number",sint64:"number",fixed32:"number",fixed64:"number",sfixed32:"number",sfixed64:"number",bool:"boolean",string:"string",bytes:"string"},o="google.protobuf.Empty";function u(e){var t,o,u=r.parse(e,{keepCase:!0,alternateCommentMode:!0});return o=(t=u.package?u.root.lookup(u.package):u.root).nestedArray.find(function(e){return e instanceof n.Service}),t.lookupService(o.name).methods}function a(e){switch(e){case"string":return"Hello";case"number":return 10;case"bool":return!0;case"int32":return 10;case"int64":return 20;case"uint32":case"uint64":case"sint32":return 100;case"sint64":return 1200;case"fixed32":return 1400;case"fixed64":return 1500;case"sfixed32":return 1600;case"sfixed64":return 1700;case"double":return 1.4;case"float":return 1.1;case"bytes":return new Buffer("Hello");default:return null}}function s(e,t){var o=r.parse(e,{keepCase:!0,alternateCommentMode:!0});return function(e,r){var t=e.nestedArray.find(function(e){return e instanceof n.Service}),o=e.lookupService(t.name);return function e(r,t){return r.lookupType(t).fieldsArray.reduce(function(t,o){var u,s,i,c,p,f,m,d;if(o instanceof n.MapField){var y=a(o.keyType),l=a(o.type),b=l?((s={})[o.name]=((u={})[y]=l,u),s):((c={})[o.name]=((i={})[y]=e(r,o.type),i),c);return Object.assign({},t,b)}if("repeated"===o.rule){var k=a(o.type),v=k?((p={})[o.name]=[k],p):((f={})[o.name]=[e(r,o.type)],f);return Object.assign({},t,v)}var g=a(o.type),j=g?((m={})[o.name]=g,m):((d={})[o.name]=e(r,o.type),d);return Object.assign({},t,j)},{})}(e,o.methods[r].responseType)}(o.package?o.root.lookup(o.package):o.root,t)}function i(e){var n=e.nested;return n?Object.keys(n).map(function(e){var r=n[e];return Object.keys(r).map(function(n){return"fields"===n?function(e,n){var r=function(e,n){return{category:"fields",name:e,params:Object.keys(n).map(function(e){var r,o=n[e];return{type:t[o.type]||o.type,keyType:(r=o,r.keyType?t[r.keyType]||r.keyType:""),name:e,rule:o.rule,id:o.id}}).sort(function(e,n){return e.id-n.id})}}(e,n.fields),o=r.params.map(function(e){return"repeated"===e.rule?"  "+e.name+": "+e.type+"[];\n":e.keyType?"  "+e.name+": {[key: "+e.keyType+"]: "+e.type+"};\n":"  "+e.name+": "+e.type+";\n"});return n.nested&&Object.keys(n.nested).forEach(function(e){o.push("  "+e+": "+e+";\n")}),"interface "+r.name+" {\n"+o.join("")+"}\n\n"}(e,r):"methods"===n?function(e,n){return""+function(e,n){return{category:"methods",name:e,params:Object.keys(n).map(function(e){return Object.assign({},{name:e},n[e])})}}(e,r.methods).params.map(function(e){return"interface "+e.name+" {\n  ("+(e.requestType===o?"":"params: "+e.requestType)+"): Promise<"+(e.responseType===o?"{}":e.responseType)+">;\n}\n\n"}).join("")}(e):"values"===n?function(e,n){var t=r.values;return"enum "+e+" {\n"+Object.keys(t).map(function(e){return{name:e,id:t[e]}}).sort(function(e,n){return e.id-n.id}).map(function(e){return"  "+e.name+" = "+e.id+",\n"}).join("")+"}\n\n"}(e):"nested"===n?i(r):void 0})}).reduce(function(e,n){return e.concat(n)},[]).join(""):""}function c(e){var n=r.parse(e,{keepCase:!0});return i(n.package?n.root.lookup(n.package).toJSON():n.root.toJSON())}var p={parseProto:c,getAllMethods:u,mockResponse:s};e.printTypescript=i,e.parseProto=c,e.getAllMethods=u,e.mockResponse=s,e.default=p});
//# sourceMappingURL=pb-to-typescript.umd.js.map
